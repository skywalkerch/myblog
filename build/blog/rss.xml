<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>赣南脐橙的小破站 Blog</title>
        <link>https://skywalkerch.github.io/blog</link>
        <description>赣南脐橙的小破站 Blog</description>
        <lastBuildDate>Sun, 20 Mar 2022 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <item>
            <title><![CDATA[Clion编译运行时中文乱码解决方案]]></title>
            <link>https://skywalkerch.github.io/blog/2022/03/20/clion编译代码中文乱码解决方案</link>
            <guid>/2022/03/20/clion编译代码中文乱码解决方案</guid>
            <pubDate>Sun, 20 Mar 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[此方案仅在 clion 的编译工具链为 mingw 的环境下测试过！]]></description>
            <content:encoded><![CDATA[<blockquote><p>此方案仅在 clion 的编译工具链为 mingw 的环境下测试过！
环境不同则需要选择对应的方案</p></blockquote><p>在 windows 系统中需要保证默认编码是<strong>GBK</strong>，即下图</p><p><img src="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201140053064.png" alt="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201140053064.png"></p><p>clion 的控制台其实是一个伪终端，这个伪终端不支持类似中文这种宽字符，所以官方给出的解决方案是将 clion 的<code>run.processes.with.pty</code>(一个注册表功能)关掉</p><p><img src="https://pic3.zhimg.com/80/v2-fc9e19127aeb42f6bd204c849f8de6de_720w.jpg" alt="https://pic3.zhimg.com/80/v2-fc9e19127aeb42f6bd204c849f8de6de_720w.jpg"></p><h1><strong>第一步</strong></h1><p>将 clion 的<code>file Encodings</code>设置全部设置为<strong><code>GBK</code></strong></p><p><img src="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201140057920.png" alt="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201140057920.png"></p><h1><strong>第二步</strong></h1><p>在 clion 的程序内按快捷键<code>CTRL SHIFT ALT /</code>,然后选择<code>Registry</code></p><p><img src="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201140059877.png" alt="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201140059877.png"></p><p>将<code>run.processes.with.pty</code>的勾选框<strong>取消</strong>勾选</p><p><img src="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201140059728.png" alt="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201140059728.png"></p><h1><strong>第三步</strong></h1><p>将项目文件的文件编码转成<strong>GBK</strong></p><p><img src="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201140101012.png" alt="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201140101012.png"></p><p>然后 clion 的控制台就能正常输入中文了</p><p><img src="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201140103818.png" alt="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201140103818.png"></p><h1><strong>参考文章</strong></h1><p><a href="https://zhuanlan.zhihu.com/p/106747225" target="_blank" rel="noopener noreferrer">知乎原文</a><br>
<a href="https://cloud.tencent.com/developer/article/1858478" target="_blank" rel="noopener noreferrer">腾讯云投稿</a></p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[WSL安装ArchLinux总结]]></title>
            <link>https://skywalkerch.github.io/blog/2022/03/20/WSL安装ArchLinux</link>
            <guid>/2022/03/20/WSL安装ArchLinux</guid>
            <pubDate>Sun, 20 Mar 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[不要简单抄袭别人的博客而不加思考。]]></description>
            <content:encoded><![CDATA[<blockquote><p>不要简单抄袭别人的博客而不加思考。</p></blockquote><h1>准备环境</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="环境">环境<a class="hash-link" href="#环境" title="Direct link to heading">​</a></h2><ul><li>Windows 10(Build 19041 and higher) or Windows 11.</li><li>hyper-V 和 Linux 子系统模块已经<strong><a href="https://docs.microsoft.com/en-us/windows/wsl/install-manual" target="_blank" rel="noopener noreferrer">启用</a></strong></li><li>在<code>ms store</code>安装<code>windows terminal</code>方便在 wsl 和 powershell 中切换</li></ul><h1>准备 LxRunOffline</h1><p>LxRunOffline 是一个用来管理<code>Windows Subsystem for Linux</code>的全功能管理工具 其具有以下这些特点</p><ul><li>能够把任何发行版安装在任意目录</li><li>能够将已经安装好的 Linux 子系统的根目录移动到其他目录.</li><li>可以复制一个已经安装好的子系统</li><li>注册现有的安装目录。 这使你可以安装到 U 盘并在不同的计算机上使用它。</li><li>在指定的安装中运行任意 Linux 命令。</li><li>配置默认用户，环境变量和各种标志。</li><li>将配置导出到 XML 文件并从文件导入。</li><li>将安装好的 Linux 子系统导出到 Tar 文件。</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="lxrunoffline-主页链接"><strong><a href="https://github.com/DDoSolitary/LxRunOffline" target="_blank" rel="noopener noreferrer">LxRunOffline 主页链接</a></strong><a class="hash-link" href="#lxrunoffline-主页链接" title="Direct link to heading">​</a></h2><h2 class="anchor anchorWithStickyNavbar_mojV" id="下载好了lxrunoffline之后">下载好了<code>LxRunOffline</code>之后<a class="hash-link" href="#下载好了lxrunoffline之后" title="Direct link to heading">​</a></h2><ul><li>[<strong>必选</strong>]<!-- -->把<strong>解压目录</strong>加到系统的环境变量中，这样才能在<code>powershell</code>里面调用。</li><li>[<strong>可选</strong>]<!-- -->找到解压目录，用<strong>管理员权限</strong>打开 powershell 并 cd 到这个目录，输入</li></ul><div class="codeBlockContainer_I0IT language-powershell theme-code-block"><div class="codeBlockContent_wNvx powershell"><pre tabindex="0" class="prism-code language-powershell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">regsvr32 LxRunOfflineShellExt.dll</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><img src="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201031008388.png" alt="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201031008388.png"></p><p>此操作是把 LxRunOffline 快速启动 wsl 添加到右键菜单，</p><p><strong>其实没什么大用</strong></p><p><img src="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201031011188.png" alt="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201031011188.png"></p><h1>下载 ArchLinux BootStrap</h1><p>这里给的链接是阿里云的</p><p><strong><a href="http://mirrors.aliyun.com/archlinux/iso/" target="_blank" rel="noopener noreferrer">http://mirrors.aliyun.com/archlinux/iso/2022.01.01/iso/</a></strong></p><p>因为 ArchLinux 的更新速度一般很快，所以就直接去找最新日期的版本就行</p><p><img src="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201031002436.png" alt="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201031002436.png"></p><p><img src="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201031003288.png" alt="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201031003288.png"></p><h1>创建安装目录</h1><p>选择一个你觉得方便管理的目录，该工具会把 wsl 安装在这里 比如我选择了</p><div class="codeBlockContainer_I0IT language-powershell theme-code-block"><div class="codeBlockContent_wNvx powershell"><pre tabindex="0" class="prism-code language-powershell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">c:/Users/skywalkerch/software/Wsl/ArchLinux</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><img src="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201031018215.png" alt="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201031018215.png"></p><blockquote><p>虽然说把 wsl 安装在这里了，但是这里只有一个虚拟磁盘文件，想要访问子系统的目录还是得在子系统内部输入explore.exe ./</p></blockquote><h1>开始安装</h1><ul><li>在 powershell 中用<strong>管理员权限</strong>执行以下命令</li></ul><div class="codeBlockContainer_I0IT language-powershell theme-code-block"><div class="codeBlockContent_wNvx powershell"><pre tabindex="0" class="prism-code language-powershell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">LxRunOffline i -n &lt;ArchLinux的命名&gt; -d &lt;wsl的安装路径&gt; -f &lt;ArchLinux.tar.gz下载路径&gt;  -r root.x86_64</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li><strong>安装成功之后需要执行转换到 wsl2 命令</strong></li></ul><div class="codeBlockContainer_I0IT language-powershell theme-code-block"><div class="codeBlockContent_wNvx powershell"><pre tabindex="0" class="prism-code language-powershell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">wsl --set-version &lt;ArchLinux的命名&gt; 2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>否则会出现</p><div class="codeBlockContainer_I0IT language-powershell theme-code-block"><div class="codeBlockContent_wNvx powershell"><pre tabindex="0" class="prism-code language-powershell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kernel too old报错</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><img src="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201012257048.png" alt="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201012257048.png"></p><p>现在就可以进入 ArchLinux 子系统内部 进入命令</p><ul><li>在<strong>powershell</strong>中输入</li></ul><div class="codeBlockContainer_I0IT language-powershell theme-code-block"><div class="codeBlockContent_wNvx powershell"><pre tabindex="0" class="prism-code language-powershell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">wsl -d &lt;ArchLinux的命名&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>进去之后需要做一些事</p><ul><li>在<strong>ArchLinux</strong>内输入</li></ul><div class="codeBlockContainer_I0IT language-powershell theme-code-block"><div class="codeBlockContent_wNvx powershell"><pre tabindex="0" class="prism-code language-powershell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">rm /etc/resolv.conf #删除resolve.conf</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><blockquote><p>rosolv.conf 是各种操作系统中使用的计算机文件的名称，用于配置系统的域名系统（DNS）解析器。 该文件是通常由网络管理员或管理系统配置任务的应用程序创建的纯文本文件。 resolveconf 程序是 FreeBSD 或其他 UNIX 计算机上的一个这样的程序，该程序管理 resolv.conf 文件。</p><ul><li>接着关闭 ArchLinux 的终端窗口并在<strong>powershell</strong>中输入</li></ul></blockquote><div class="codeBlockContainer_I0IT language-powershell theme-code-block"><div class="codeBlockContent_wNvx powershell"><pre tabindex="0" class="prism-code language-powershell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">wsl --shutdown &lt;ArchLinux的命名`&gt; ##重启ArchLinux</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wsl -d &lt;ArchLinux的命名&gt; #再次进入子系统</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>在<strong>ArchLinux</strong>中输入</li></ul><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">explorer.exe ./ </span><span class="token comment" style="color:#999988;font-style:italic">#弹出网络目录浏览器</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>找到并修改</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">/etc/pacman.d/mirrorlist</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>，随便取消一个中国的镜像源注释</p><p><img src="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201031050603.png" alt="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201031050603.png"></p><ul><li>然后更新镜像源并下载一些必要软件包</li></ul><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">pacman -Syyu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pacman-key --init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pacman-key --populate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pacman -S base base-devel </span><span class="token function" style="color:#d73a49">vim</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">nano</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> glibc</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>创建新用户</li></ul><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">useradd</span><span class="token plain"> -m -G wheel -s /bin/bash </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">用户名</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">passwd</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">用户名</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">visudo </span><span class="token comment" style="color:#999988;font-style:italic">##修改用户以及用户组的sudo权限</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">id</span><span class="token plain"> -u </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">用户名</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#获取账户的id号</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>配置用户 sudo 权限和免密操作</p><p><img src="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201031333345.png" alt="https://picbed-1303839378.cos.ap-nanjing.myqcloud.com/picbed/202201031333345.png"></p><ul><li>wsl 设置默认登录用户</li></ul><div class="codeBlockContainer_I0IT language-powershell theme-code-block"><div class="codeBlockContent_wNvx powershell"><pre tabindex="0" class="prism-code language-powershell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">lxrunoffline su -n &lt;你的arch名字&gt; -v &lt;账户id&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h1>开始 ArchLinux 的折腾之旅</h1><div class="codeBlockContainer_I0IT language-powershell theme-code-block"><div class="codeBlockContent_wNvx powershell"><pre tabindex="0" class="prism-code language-powershell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">#接下来就可以在ArchLinux中安装这些工具软件了</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yay</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vimplus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">doom-emacs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">oh-my-zsh+powerline10k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jdk</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div>]]></content:encoded>
        </item>
    </channel>
</rss>